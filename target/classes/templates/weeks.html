<!DOCTYPE html>
<html th:replace="~{fragments/layout :: layout('–ú–∞—Ç—Ä–∏—Ü–∞ –æ—Ü–µ–Ω–∞', ~{::.main-container})}" xmlns:th="http://www.thymeleaf.org">
<head/>
<body>
<div class="main-container">

    <h2>üìÖ –ú–∞—Ç—Ä–∏—Ü–∞ –æ—Ü–µ–Ω–∞ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏–º–∞</h2>

    <div style="overflow:auto; max-height:30rem; border:2px solid #aaa;">
        <table style="
            border-collapse:collapse;
            background:#e6ffe6;
            font-size:0.8rem;
            text-align:center;
            width:max-content;
            min-width:100%;">
            <thead>
            <tr style="background:#cceccc;">
                <th style="border:1px solid #aaa; min-width:12rem; position:sticky; left:0; background:#cceccc; z-index:2;">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç</th>
                <th style="border:1px solid #aaa; min-width:16rem; position:sticky; left:12rem; background:#cceccc; z-index:2;">–û–ø–∏—Å</th>
                <th style="border:1px solid #aaa; min-width:6rem; position:sticky; left:28rem; background:#cceccc; z-index:2;">–ú–∞–∫—Å.</th>
                <th th:each="weekNum : ${#numbers.sequence(1,52)}"
                    th:text="'–ù' + weekNum"
                    style="border:1px solid #aaa; min-width:6rem;">
                </th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="row : ${scoreMatrix}">
                <td style="border:1px solid #aaa; text-align:left; min-width:12rem; position:sticky; left:0; background:#f8fff8;" th:text="${row.activity.name}"></td>
                <td style="border:1px solid #aaa; text-align:left; min-width:16rem; position:sticky; left:12rem; background:#f8fff8;" th:text="${row.activity.description}"></td>
                <td style="border:1px solid #aaa; min-width:6rem; position:sticky; left:28rem; background:#f8fff8;" th:text="${row.activity.maxScore}"></td>
                <td th:each="score : ${row.weeklyScores}"
                    style="border:1px solid #aaa; min-width:6rem;"
                    th:text="${score.score}">
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>
</body>
</html>